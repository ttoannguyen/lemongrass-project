{
  "settings": {
    "analysis": {
      "filter": {
        "vietnamese_stop": {
          "type": "stop",
          "stopwords": [
            "có",
            "con",
            "gì",
            "nào",
            "là",
            "thì",
            "với",
            "cho",
            "tại",
            "này",
            "đó",
            "ở",
            "và",
            "hôm",
            "nay",
            "món",
            "nấu",
            "làm",
            "ăn",
            "thế",
            "nào",
            "hướng",
            "dẫn",
            "aromatic"
          ]
        },
        "vietnamese_synonym": {
          "type": "synonym",
          "synonyms": [
            "ngon => tuyệt vời, ngon lành"
          ]
        }
      },
      "analyzer": {
        "vietnamese_analyzer": {
          "type": "custom",
          "tokenizer": "icu_tokenizer",
          "filter": [
            "lowercase",
            "icu_folding",
            "vietnamese_stop",
            "vietnamese_synonym"
          ]
        },
        "vietnamese_suggest_analyzer": {
          "type": "custom",
          "tokenizer": "icu_tokenizer",
          "filter": [
            "lowercase",
            "icu_folding",
            "vietnamese_stop"
          ]
        }
      }
    }
  },
  "mappings": {
    "properties": {
      "id": {
        "type": "keyword"
      },
      "title": {
        "type": "text",
        "analyzer": "vietnamese_analyzer",
        "fields": {
          "suggest": {
            "type": "search_as_you_type",
            "analyzer": "vietnamese_suggest_analyzer",
            "max_shingle_size": 3
          }
        }
      },
      "cookingTime": {
        "type": "integer"
      },
      "difficulty": {
        "type": "keyword"
      },
      "description": {
        "type": "text",
        "analyzer": "vietnamese_analyzer"
      },
      "servings": {
        "type": "integer"
      },
      "accountId": {
        "type": "keyword"
      },
      "accountName": {
        "type": "text",
        "analyzer": "vietnamese_analyzer"
      },
      "categoryIds": {
        "type": "keyword"
      },
      "ingredients": {
        "type": "nested",
        "properties": {
          "name": {
            "type": "text",
            "analyzer": "vietnamese_analyzer"
          },
          "quantity": {
            "type": "text"
          }
        }
      },
      "instructions": {
        "type": "nested",
        "properties": {
          "step": {
            "type": "integer"
          },
          "description": {
            "type": "text",
            "analyzer": "vietnamese_analyzer"
          }
        }
      },
      "images": {
        "type": "nested",
        "properties": {
          "url": {
            "type": "keyword"
          }
        }
      },
      "isDeleted": {
        "type": "boolean"
      },
      "createdAt": {
        "type": "date"
      },
      "updatedAt": {
        "type": "date"
      }
    }
  }
}
